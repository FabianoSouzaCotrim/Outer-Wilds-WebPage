<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Outer Wilds</title>
    <script src="./js/funcoes.js"></script>
    <link rel="stylesheet" href="css/comunidade.css">
    <link rel="stylesheet" href="css/navbar.css">
    <link rel="icon" type="imagem/webp" href="css/img/OuterWildslogo.webp" />

</head>
<body>
    <header>
        <nav>
            <a  href="/"><img class="logo" src="css/img/outerWildsLogo.png"></a>
            <li class="navbar">
                <ul><a href="index.html">Inicio</a></ul>
                <ul><a href="personagens.html">Personagens</a></ul>
                <ul><a href="mapaEspacial.html">Mapa Espacial</a></ul>
                <ul><a class="foco" href="comunidade.html">Comunidade</a></ul>
                <ul><a href="dashboard.html">Dashboard</a></ul>
            </li>
            <li class="navbar2">
                <a class="login-laranja" href="login.html"><ul>Login</ul></a>
                <ul><a href="cadastro.html">Cadastrar</a></ul>
            </li>
            <li class="navbar3">
                <div class="fotoUsuario"></div>
                <h3 id="nomeUsuario"></h3><span onclick="limparSessao()">Sair</span>
            </li>
        </nav>
    </header>
    <main>
        <h1 class="titulo1">Comunidade Outer Wilds Ventures</h1>
        <section class="section_votocao">
            <h1 class="titulo2">Vote no seu Personagem Favorito:</h1>
            <!-- VOTAÇÃO PERSONAGEM FAVORITO -->
            <div class="div_voto_personagem">
            <div>
                <img src='css/img/personagem/Chert.webp' width="200px" height="200px">
                <h1>Chert</h1>
                <button onclick="votarPersonagem('chert')">Votar</button>
            </div>

            <div>
                <img src='css/img/personagem/Esker.webp' width="200px" height="200px">
                <h1>Esker</h1>
                <button  onclick="votarPersonagem('esker')">Votar</button>
            </div>

            <div>
                <img src='css/img/personagem/Riebeck.webp' width="200px" height="200px">
                <h1>Riebeck</h1>
                <button onclick="votarPersonagem('riebeck')">Votar</button>
            </div>

            <div>
                <img src='css/img/personagem/Gabbro.webp' width="200px" height="200px">
                <h1>Gabbro</h1>
                <button onclick="votarPersonagem('gabbro')">Votar</button>
            </div>

            <div>
                <img src='css/img/personagem/Feldspar.webp' width="200px" height="200px">
                <h1>Feldspar</h1>
                <button onclick="votarPersonagem('feldspar')">Votar</button>
            </div>
            </div>

            <!-- VOTAÇÃO PLANETA FAVORITO -->
            <h1 class="titulo3">Vote no seu Planeta Favorito:</h1>
            <div class="div_voto_planeta">
                
                <div>
                    <img src="css/img/Planetas/antigas/gemeos.png" width="200px" height="200px">
                    <h1>Gêmeos da Ampulheta</h1>
                    <button onclick="votarPlaneta('gemeos')">Votar</button>
                </div>
    
                <div>
                    <img src="css/img/Planetas/antigas/timberhearth.png" width="200px" height="200px">
                    <h1>Recanto Lenhoso</h1>
                    <button onclick="votarPlaneta('recanto')">Votar</button>
                </div>
    
                <div>
                    <img src="css/img/Planetas/antigas/brittleHollow.jpg" width="200px" height="200px">
                    <h1>Vale Incerto</h1>
                    <button onclick="votarPlaneta('vale')">Votar</button>
                </div>
    
                <div>
                    <img src="css/img/Planetas/antigas/profundezasGigante.jpg" width="200px" height="200px">
                    <h1>Profundezas do Gigante</h1>
                    <button onclick="votarPlaneta('gigante')">Votar</button>
                </div>
    
                <div>
                    <img src="css/img/Planetas/antigas/Dark_Bramble.jpg" width="200px" height="200px">
                    <h1>Embrolho Sombrio</h1>
                    <button onclick="votarPlaneta('embrolho')">Votar</button>
                </div>
                </div>
        </section>
    </main>
    <footer><h3 style="color: #FF7314;">todos direitos reservados Fabiano Souza &copy; 2022</h3></footer>
</body>
</html>

<script src="js/validarSessao.js"></script>

<script>
function votarPersonagem(personagem) {
    alert("votou no seu personagem favorito")
        let votoVar
        let idVar
        switch (personagem) {
            case 'chert':
            votoVar = 1;
             idVar = sessionStorage.ID_USUARIO
                break

                case 'esker':
            votoVar = 2;
             idVar = sessionStorage.ID_USUARIO
                break

                case 'riebeck':
            votoVar = 3;
             idVar = sessionStorage.ID_USUARIO
                break

                case 'gabbro':
            votoVar = 4;
             idVar = sessionStorage.ID_USUARIO
                break
                
                case 'feldspar':
            votoVar = 5;
            idVar = sessionStorage.ID_USUARIO
                break
        }

        console.log(votoVar)

    fetch("/usuarios/votarPersonagem", {
        method: "POST",
        headers: {
            "Content-Type": "application/json"
        },
        body: JSON.stringify({
            votoServer: votoVar,
            idServer: idVar
        })
    })
}

function votarPlaneta(planeta) {
    alert("votou no seu planeta favorito")
        let votoVar
        let idVar
        switch (planeta) {
            case 'gemeos':
            votoVar = 1;
             idVar = sessionStorage.ID_USUARIO
                break

                case 'recanto':
            votoVar = 2;
             idVar = sessionStorage.ID_USUARIO
                break

                case 'vale':
            votoVar = 3;
             idVar = sessionStorage.ID_USUARIO
                break

                case 'gigante':
            votoVar = 4;
             idVar = sessionStorage.ID_USUARIO
                break
                
                case 'embrolho':
            votoVar = 5;
            idVar = sessionStorage.ID_USUARIO
                break
        }

        console.log(votoVar)

    fetch("/usuarios/votarPlaneta", {
        method: "POST",
        headers: {
            "Content-Type": "application/json"
        },
        body: JSON.stringify({
            votoServer: votoVar,
            idServer: idVar
        })
    })
}
</script>